/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/_app";
exports.ids = ["pages/_app"];
exports.modules = {

/***/ "./context/TwitterContext.js":
/*!***********************************!*\
  !*** ./context/TwitterContext.js ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TwitterContext\": () => (/* binding */ TwitterContext),\n/* harmony export */   \"TwitterProvider\": () => (/* binding */ TwitterProvider)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"next/router\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/client */ \"./lib/client.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_client__WEBPACK_IMPORTED_MODULE_3__]);\n_lib_client__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nconst TwitterContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)();\nconst TwitterProvider = ({ children  })=>{\n    const [appStatus, setAppStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [currentAccount, setCurrentAccount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [currentUser, setCurrentUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [tweets, setTweets] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        checkIfWalletIsConnected();\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!currentAccount && appStatus == \"connected\") return;\n        getCurrentUserDetails(currentAccount);\n        fetchTweets();\n    }, [\n        currentAccount,\n        appStatus\n    ]);\n    /**\n   * Checks if there is an active wallet connection\n   */ const checkIfWalletIsConnected = async ()=>{\n        if (!window.ethereum) return setAppStatus(\"noMetaMask\");\n        try {\n            const addressArray = await window.ethereum.request({\n                method: \"eth_accounts\"\n            });\n            if (addressArray.length > 0) {\n                setAppStatus(\"connected\");\n                setCurrentAccount(addressArray[0]);\n                createUserAccount(addressArray[0]);\n            } else {\n                router.push(\"/\");\n                setAppStatus(\"notConnected\");\n            }\n        } catch (err) {\n            router.push(\"/\");\n            setAppStatus(\"error\");\n        }\n    };\n    /**\n   * Initiates MetaMask wallet connection\n   */ const connectWallet = async ()=>{\n        if (!window.ethereum) return setAppStatus(\"noMetaMask\");\n        try {\n            setAppStatus(\"loading\");\n            const addressArray = await window.ethereum.request({\n                method: \"eth_requestAccounts\"\n            });\n            if (addressArray.length > 0) {\n                setCurrentAccount(addressArray[0]);\n                createUserAccount(addressArray[0]);\n            } else {\n                router.push(\"/\");\n                setAppStatus(\"notConnected\");\n            }\n        } catch (err) {\n            setAppStatus(\"error\");\n        }\n    };\n    /**\n   * Creates an account in Sanity DB if the user does not already have one\n   * @param {String} userAddress Wallet address of the currently logged in user\n   */ const createUserAccount = async (userAddress = currentAccount)=>{\n        if (!window.ethereum) return setAppStatus(\"noMetaMask\");\n        try {\n            const userDoc = {\n                _type: \"users\",\n                _id: userAddress,\n                name: \"Unnamed\",\n                isProfileImageNft: false,\n                profileImage: \"https://about.twitter.com/content/dam/about-twitter/en/brand-toolkit/brand-download-img-1.jpg.twimg.1920.jpg\",\n                walletAddress: userAddress\n            };\n            await _lib_client__WEBPACK_IMPORTED_MODULE_3__.client.createIfNotExists(userDoc);\n            setAppStatus(\"connected\");\n        } catch (error) {\n            router.push(\"/\");\n            setAppStatus(\"error\");\n        }\n    };\n    /**\n   * Generates NFT profile picture URL or returns the image URL if it's not an NFT\n   * @param {String} imageUri If the user has minted a profile picture, an IPFS hash; if not then the URL of their profile picture\n   * @param {Boolean} isNft Indicates whether the user has minted a profile picture\n   * @returns A full URL to the profile picture\n   */ const getNftProfileImage = async (imageUri, isNft)=>{\n        if (isNft) {\n            return `https://gateway.pinata.cloud/ipfs/${imageUri}`;\n        } else if (!isNft) {\n            return imageUri;\n        }\n    };\n    /**\n   * Gets all the tweets stored in Sanity DB.\n   */ const fetchTweets = async ()=>{\n        const query = `\n      *[_type == \"tweets\"]{\n        \"author\": author->{name, walletAddress, profileImage, isProfileImageNft},\n        tweet,\n        timestamp\n      }|order(timestamp desc)\n    `;\n        // setTweets(await client.fetch(query))\n        const sanityResponse = await _lib_client__WEBPACK_IMPORTED_MODULE_3__.client.fetch(query);\n        setTweets([]);\n        /**\n     * Async await not available with for..of loops.\n     */ sanityResponse.forEach(async (item)=>{\n            const profileImageUrl = await getNftProfileImage(item.author.profileImage, item.author.isProfileImageNft);\n            if (item.author.isProfileImageNft) {\n                const newItem = {\n                    tweet: item.tweet,\n                    timestamp: item.timestamp,\n                    author: {\n                        name: item.author.name,\n                        walletAddress: item.author.walletAddress,\n                        profileImage: profileImageUrl,\n                        isProfileImageNft: item.author.isProfileImageNft\n                    }\n                };\n                setTweets((prevState)=>[\n                        ...prevState,\n                        newItem\n                    ]);\n            } else {\n                setTweets((prevState)=>[\n                        ...prevState,\n                        item\n                    ]);\n            }\n        });\n    };\n    /**\n   * Gets the current user details from Sanity DB.\n   * @param {String} userAccount Wallet address of the currently logged in user\n   * @returns null\n   */ const getCurrentUserDetails = async (userAccount = currentAccount)=>{\n        if (appStatus !== \"connected\") return;\n        const query = `\n      *[_type == \"users\" && _id == \"${userAccount}\"]{\n        \"tweets\": tweets[]->{timestamp, tweet}|order(timestamp desc),\n        name,\n        profileImage,\n        isProfileImageNft,\n        coverImage,\n        walletAddress\n      }\n    `;\n        const response = await _lib_client__WEBPACK_IMPORTED_MODULE_3__.client.fetch(query);\n        const profileImageUri = await getNftProfileImage(response[0].profileImage, response[0].isProfileImageNft);\n        setCurrentUser({\n            tweets: response[0].tweets,\n            name: response[0].name,\n            profileImage: profileImageUri,\n            walletAddress: response[0].walletAddress,\n            coverImage: response[0].coverImage,\n            isProfileImageNft: response[0].isProfileImageNft\n        });\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TwitterContext.Provider, {\n        value: {\n            appStatus,\n            currentAccount,\n            connectWallet,\n            tweets,\n            fetchTweets,\n            setAppStatus,\n            getNftProfileImage,\n            currentUser,\n            getCurrentUserDetails\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/upendra/Desktop/developer/blockchain/cleverProgrammer/cleverProgrammer/twitterWeb3/twitterWEB3final/twitter-clone-blockchain/client/context/TwitterContext.js\",\n        lineNumber: 194,\n        columnNumber: 5\n    }, undefined);\n} // import { createContext, useEffect, useState } from \"react\";\n // import { useRouter } from \"next/router\";\n // import { client } from \"../lib/client\";\n // export const TwitterContext = createContext();\n // export const TwitterProvider = ({ children }) => {\n //   const [appStatus, setAppStatus] = useState(\"\");\n //   const [currentAccount, setCurrentAccount] = useState(\"\");\n //   //   const [currentUser, setCurrentUser] = useState({});\n //   const [tweets, setTweets] = useState([]);\n //   const router = useRouter();\n //   useEffect(() => {\n //     checkIfWalletIsConnected();\n //   }, []);\n //     useEffect(() => {\n //       if (!currentAccount && appStatus == \"connected\") return;\n //       getCurrentUserDetails(currentAccount);\n //       //   fetchTweets();\n //     }, [currentAccount, appStatus]);\n //   /**\n //    * Checks if there is an active wallet connection\n //    */\n //   const checkIfWalletIsConnected = async () => {\n //     if (!window.ethereum) return setAppStatus(\"noMetaMask\");\n //     try {\n //       const addressArray = await window.ethereum.request({\n //         method: \"eth_accounts\",\n //       });\n //       if (addressArray.length > 0) {\n //         setAppStatus(\"connected\");\n //         setCurrentAccount(addressArray[0]);\n //         createUserAccount(addressArray[0]);\n //       } else {\n //         router.push(\"/\");\n //         setAppStatus(\"notConnected\");\n //       }\n //     } catch (err) {\n //       router.push(\"/\");\n //       // setAppStatus(\"error\");\n //       setAppStatus(\"connected\");\n //     }\n //   };\n //   /**\n //    * Initiates MetaMask wallet connection\n //    */\n //   const connectToWallet = async () => {\n //     if (!window.ethereum) return setAppStatus(\"noMetaMask\");\n //     try {\n //       setAppStatus(\"loading\");\n //       const addressArray = await window.ethereum.request({\n //         method: \"eth_requestAccounts\",\n //       });\n //       if (addressArray.length > 0) {\n //         setCurrentAccount(addressArray[0]);\n //         createUserAccount(addressArray[0]);\n //       } else {\n //         router.push(\"/\");\n //         setAppStatus(\"notConnected\");\n //       }\n //     } catch (err) {\n //       // setAppStatus(\"error\");\n //       setAppStatus(\"connected\");\n //     }\n //   };\n //   /**\n //    * Creates an account in Sanity DB if the user does not already have one\n //    * @param {String} userAddress Wallet address of the currently logged in user\n //    */\n //   const createUserAccount = async (userAddress = currentAccount) => {\n //     if (!window.ethereum) return setAppStatus(\"noMetaMask\");\n //     try {\n //       const userDoc = {\n //         _type: \"users\",\n //         _id: userAddress,\n //         name: \"Unnamed\",\n //         isProfileImageNft: false,\n //         profileImage:\n //           \"https://about.twitter.com/content/dam/about-twitter/en/brand-toolkit/brand-download-img-1.jpg.twimg.1920.jpg\",\n //         walletAddress: userAddress,\n //       };\n //       await client.createIfNotExists(userDoc);\n //       setAppStatus(\"connected\");\n //     } catch (error) {\n //       router.push(\"/\");\n //       setAppStatus(\"connected\");\n //       // setAppStatus(\"error\");\n //     }\n //   };\n //   //   /**\n //   //    * Generates NFT profile picture URL or returns the image URL if it's not an NFT\n //   //    * @param {String} imageUri If the user has minted a profile picture, an IPFS hash; if not then the URL of their profile picture\n //   //    * @param {Boolean} isNft Indicates whether the user has minted a profile picture\n //   //    * @returns A full URL to the profile picture\n //   //    */\n //   //   const getNftProfileImage = async (imageUri, isNft) => {\n //   //     if (isNft) {\n //   //       return `https://gateway.pinata.cloud/ipfs/${imageUri}`;\n //   //     } else if (!isNft) {\n //   //       return imageUri;\n //   //     }\n //   //   };\n //   /**\n //    * Gets all the tweets stored in Sanity DB.\n //    */\n //   const fetchTweets = async () => {\n //     const query = `\n //         *[_type == \"tweets\"]{\n //           \"author\": author->{name, walletAddress, profileImage, isProfileImageNft},\n //           tweet,\n //           timestamp\n //         }|order(timestamp desc)\n //       `;\n //     setTweets(await client.fetch(query));\n //     const sanityResponse = await client.fetch(query);\n //     setTweets([]);\n //     /**\n //      * Async await not available with for..of loops.\n //      */\n //     sanityResponse.forEach(async (item) => {\n //       const profileImageUrl = await getNftProfileImage(\n //         item.author.profileImage,\n //         item.author.isProfileImageNft\n //       );\n //       if (item.author.isProfileImageNft) {\n //         const newItem = {\n //           tweet: item.tweet,\n //           timestamp: item.timestamp,\n //           author: {\n //             name: item.author.name,\n //             walletAddress: item.author.walletAddress,\n //             profileImage: profileImageUrl,\n //             isProfileImageNft: item.author.isProfileImageNft,\n //           },\n //         };\n //         setTweets((prevState) => [...prevState, newItem]);\n //       } else {\n //         setTweets((prevState) => [...prevState, item]);\n //       }\n //     });\n //   };\n //   /**\n //    * Gets the current user details from Sanity DB.\n //    * @param {String} userAccount Wallet address of the currently logged in user\n //    * @returns null\n //    */\n //   const getCurrentUserDetails = async (userAccount = currentAccount) => {\n //     if (appStatus !== \"connected\") return;\n //     const query = `\n //         *[_type == \"users\" && _id == \"${userAccount}\"]{\n //           \"tweets\": tweets[]->{timestamp, tweet}|order(timestamp desc),\n //           name,\n //           profileImage,\n //           isProfileImageNft,\n //           coverImage,\n //           walletAddress\n //         }\n //       `;\n //     const response = await client.fetch(query);\n //     const profileImageUri = await getNftProfileImage(\n //       response[0].profileImage,\n //       response[0].isProfileImageNft\n //     );\n //     setCurrentUser({\n //       tweets: response[0].tweets,\n //       name: response[0].name,\n //       profileImage: profileImageUri,\n //       walletAddress: response[0].walletAddress,\n //       coverImage: response[0].coverImage,\n //       isProfileImageNft: response[0].isProfileImageNft,\n //     });\n //   };\n //   return (\n //     <TwitterContext.Provider\n //       value={{\n //         appStatus,\n //         currentAccount,\n //         connectToWallet,\n //         fetchTweets,\n //         tweets,\n //         currentUser,\n //         setAppStatus,\n //         getCurrentUserDetails,\n //       }}\n //     >\n //       {children}\n //     </TwitterContext.Provider>\n //   );\n // };\n //env local\n // API Key: 08821373aa37d0a7e70b\n //  API Secret: ed57322793132497cecce79e24b2acd2b77360199fcd84a67c53eb75efda235d\n //  JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiI3MDFjMTRiNi0yMWVhLTRjOTEtOGMzNy0wMTFhNjk4ODllOTQiLCJlbWFpbCI6ImRldmVsb3BlcnVqQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImlkIjoiRlJBMSIsImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxfSx7ImlkIjoiTllDMSIsImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxfV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiIwODgyMTM3M2FhMzdkMGE3ZTcwYiIsInNjb3BlZEtleVNlY3JldCI6ImVkNTczMjI3OTMxMzI0OTdjZWNjZTc5ZTI0YjJhY2QyYjc3MzYwMTk5ZmNkODRhNjdjNTNlYjc1ZWZkYTIzNWQiLCJpYXQiOjE2ODI3OTM2MTd9.vy7HkCS3sAAKWoq2yN7PsR1_Ab8BvktPLSfG8P0kKls\n;\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aEYsc3JCQUFzckI7Q0E3TnJyQiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2NvbnRleHQvVHdpdHRlckNvbnRleHQuanM/N2RhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcidcbmltcG9ydCB7IGNsaWVudCB9IGZyb20gJy4uL2xpYi9jbGllbnQnXG5cbmV4cG9ydCBjb25zdCBUd2l0dGVyQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoKVxuXG5leHBvcnQgY29uc3QgVHdpdHRlclByb3ZpZGVyID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBbYXBwU3RhdHVzLCBzZXRBcHBTdGF0dXNdID0gdXNlU3RhdGUoJycpXG4gIGNvbnN0IFtjdXJyZW50QWNjb3VudCwgc2V0Q3VycmVudEFjY291bnRdID0gdXNlU3RhdGUoJycpXG4gIGNvbnN0IFtjdXJyZW50VXNlciwgc2V0Q3VycmVudFVzZXJdID0gdXNlU3RhdGUoe30pXG4gIGNvbnN0IFt0d2VldHMsIHNldFR3ZWV0c10gPSB1c2VTdGF0ZShbXSlcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNoZWNrSWZXYWxsZXRJc0Nvbm5lY3RlZCgpXG4gIH0sIFtdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50QWNjb3VudCAmJiBhcHBTdGF0dXMgPT0gJ2Nvbm5lY3RlZCcpIHJldHVyblxuICAgIGdldEN1cnJlbnRVc2VyRGV0YWlscyhjdXJyZW50QWNjb3VudClcbiAgICBmZXRjaFR3ZWV0cygpXG4gIH0sIFtjdXJyZW50QWNjb3VudCwgYXBwU3RhdHVzXSlcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZXJlIGlzIGFuIGFjdGl2ZSB3YWxsZXQgY29ubmVjdGlvblxuICAgKi9cbiAgY29uc3QgY2hlY2tJZldhbGxldElzQ29ubmVjdGVkID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghd2luZG93LmV0aGVyZXVtKSByZXR1cm4gc2V0QXBwU3RhdHVzKCdub01ldGFNYXNrJylcbiAgICB0cnkge1xuICAgICAgY29uc3QgYWRkcmVzc0FycmF5ID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3Qoe1xuICAgICAgICBtZXRob2Q6ICdldGhfYWNjb3VudHMnLFxuICAgICAgfSlcbiAgICAgIGlmIChhZGRyZXNzQXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICBzZXRBcHBTdGF0dXMoJ2Nvbm5lY3RlZCcpXG4gICAgICAgIHNldEN1cnJlbnRBY2NvdW50KGFkZHJlc3NBcnJheVswXSlcblxuICAgICAgICBjcmVhdGVVc2VyQWNjb3VudChhZGRyZXNzQXJyYXlbMF0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb3V0ZXIucHVzaCgnLycpXG4gICAgICAgIHNldEFwcFN0YXR1cygnbm90Q29ubmVjdGVkJylcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJvdXRlci5wdXNoKCcvJylcbiAgICAgIHNldEFwcFN0YXR1cygnZXJyb3InKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWF0ZXMgTWV0YU1hc2sgd2FsbGV0IGNvbm5lY3Rpb25cbiAgICovXG4gIGNvbnN0IGNvbm5lY3RXYWxsZXQgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHJldHVybiBzZXRBcHBTdGF0dXMoJ25vTWV0YU1hc2snKVxuICAgIHRyeSB7XG4gICAgICBzZXRBcHBTdGF0dXMoJ2xvYWRpbmcnKVxuXG4gICAgICBjb25zdCBhZGRyZXNzQXJyYXkgPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZDogJ2V0aF9yZXF1ZXN0QWNjb3VudHMnLFxuICAgICAgfSlcblxuICAgICAgaWYgKGFkZHJlc3NBcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHNldEN1cnJlbnRBY2NvdW50KGFkZHJlc3NBcnJheVswXSlcbiAgICAgICAgY3JlYXRlVXNlckFjY291bnQoYWRkcmVzc0FycmF5WzBdKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm91dGVyLnB1c2goJy8nKVxuICAgICAgICBzZXRBcHBTdGF0dXMoJ25vdENvbm5lY3RlZCcpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBzZXRBcHBTdGF0dXMoJ2Vycm9yJylcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBhY2NvdW50IGluIFNhbml0eSBEQiBpZiB0aGUgdXNlciBkb2VzIG5vdCBhbHJlYWR5IGhhdmUgb25lXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB1c2VyQWRkcmVzcyBXYWxsZXQgYWRkcmVzcyBvZiB0aGUgY3VycmVudGx5IGxvZ2dlZCBpbiB1c2VyXG4gICAqL1xuICBjb25zdCBjcmVhdGVVc2VyQWNjb3VudCA9IGFzeW5jICh1c2VyQWRkcmVzcyA9IGN1cnJlbnRBY2NvdW50KSA9PiB7XG4gICAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHJldHVybiBzZXRBcHBTdGF0dXMoJ25vTWV0YU1hc2snKVxuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyRG9jID0ge1xuICAgICAgICBfdHlwZTogJ3VzZXJzJyxcbiAgICAgICAgX2lkOiB1c2VyQWRkcmVzcyxcbiAgICAgICAgbmFtZTogJ1VubmFtZWQnLFxuICAgICAgICBpc1Byb2ZpbGVJbWFnZU5mdDogZmFsc2UsXG4gICAgICAgIHByb2ZpbGVJbWFnZTpcbiAgICAgICAgICAnaHR0cHM6Ly9hYm91dC50d2l0dGVyLmNvbS9jb250ZW50L2RhbS9hYm91dC10d2l0dGVyL2VuL2JyYW5kLXRvb2xraXQvYnJhbmQtZG93bmxvYWQtaW1nLTEuanBnLnR3aW1nLjE5MjAuanBnJyxcbiAgICAgICAgd2FsbGV0QWRkcmVzczogdXNlckFkZHJlc3MsXG4gICAgICB9XG5cbiAgICAgIGF3YWl0IGNsaWVudC5jcmVhdGVJZk5vdEV4aXN0cyh1c2VyRG9jKVxuXG4gICAgICBzZXRBcHBTdGF0dXMoJ2Nvbm5lY3RlZCcpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJvdXRlci5wdXNoKCcvJylcbiAgICAgIHNldEFwcFN0YXR1cygnZXJyb3InKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgTkZUIHByb2ZpbGUgcGljdHVyZSBVUkwgb3IgcmV0dXJucyB0aGUgaW1hZ2UgVVJMIGlmIGl0J3Mgbm90IGFuIE5GVFxuICAgKiBAcGFyYW0ge1N0cmluZ30gaW1hZ2VVcmkgSWYgdGhlIHVzZXIgaGFzIG1pbnRlZCBhIHByb2ZpbGUgcGljdHVyZSwgYW4gSVBGUyBoYXNoOyBpZiBub3QgdGhlbiB0aGUgVVJMIG9mIHRoZWlyIHByb2ZpbGUgcGljdHVyZVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzTmZ0IEluZGljYXRlcyB3aGV0aGVyIHRoZSB1c2VyIGhhcyBtaW50ZWQgYSBwcm9maWxlIHBpY3R1cmVcbiAgICogQHJldHVybnMgQSBmdWxsIFVSTCB0byB0aGUgcHJvZmlsZSBwaWN0dXJlXG4gICAqL1xuICBjb25zdCBnZXROZnRQcm9maWxlSW1hZ2UgPSBhc3luYyAoaW1hZ2VVcmksIGlzTmZ0KSA9PiB7XG4gICAgaWYgKGlzTmZ0KSB7XG4gICAgICByZXR1cm4gYGh0dHBzOi8vZ2F0ZXdheS5waW5hdGEuY2xvdWQvaXBmcy8ke2ltYWdlVXJpfWBcbiAgICB9IGVsc2UgaWYgKCFpc05mdCkge1xuICAgICAgcmV0dXJuIGltYWdlVXJpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYWxsIHRoZSB0d2VldHMgc3RvcmVkIGluIFNhbml0eSBEQi5cbiAgICovXG4gIGNvbnN0IGZldGNoVHdlZXRzID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgKltfdHlwZSA9PSBcInR3ZWV0c1wiXXtcbiAgICAgICAgXCJhdXRob3JcIjogYXV0aG9yLT57bmFtZSwgd2FsbGV0QWRkcmVzcywgcHJvZmlsZUltYWdlLCBpc1Byb2ZpbGVJbWFnZU5mdH0sXG4gICAgICAgIHR3ZWV0LFxuICAgICAgICB0aW1lc3RhbXBcbiAgICAgIH18b3JkZXIodGltZXN0YW1wIGRlc2MpXG4gICAgYFxuXG4gICAgLy8gc2V0VHdlZXRzKGF3YWl0IGNsaWVudC5mZXRjaChxdWVyeSkpXG5cbiAgICBjb25zdCBzYW5pdHlSZXNwb25zZSA9IGF3YWl0IGNsaWVudC5mZXRjaChxdWVyeSlcblxuICAgIHNldFR3ZWV0cyhbXSlcblxuICAgIC8qKlxuICAgICAqIEFzeW5jIGF3YWl0IG5vdCBhdmFpbGFibGUgd2l0aCBmb3IuLm9mIGxvb3BzLlxuICAgICAqL1xuICAgIHNhbml0eVJlc3BvbnNlLmZvckVhY2goYXN5bmMgaXRlbSA9PiB7XG4gICAgICBjb25zdCBwcm9maWxlSW1hZ2VVcmwgPSBhd2FpdCBnZXROZnRQcm9maWxlSW1hZ2UoXG4gICAgICAgIGl0ZW0uYXV0aG9yLnByb2ZpbGVJbWFnZSxcbiAgICAgICAgaXRlbS5hdXRob3IuaXNQcm9maWxlSW1hZ2VOZnQsXG4gICAgICApXG5cbiAgICAgIGlmIChpdGVtLmF1dGhvci5pc1Byb2ZpbGVJbWFnZU5mdCkge1xuICAgICAgICBjb25zdCBuZXdJdGVtID0ge1xuICAgICAgICAgIHR3ZWV0OiBpdGVtLnR3ZWV0LFxuICAgICAgICAgIHRpbWVzdGFtcDogaXRlbS50aW1lc3RhbXAsXG4gICAgICAgICAgYXV0aG9yOiB7XG4gICAgICAgICAgICBuYW1lOiBpdGVtLmF1dGhvci5uYW1lLFxuICAgICAgICAgICAgd2FsbGV0QWRkcmVzczogaXRlbS5hdXRob3Iud2FsbGV0QWRkcmVzcyxcbiAgICAgICAgICAgIHByb2ZpbGVJbWFnZTogcHJvZmlsZUltYWdlVXJsLFxuICAgICAgICAgICAgaXNQcm9maWxlSW1hZ2VOZnQ6IGl0ZW0uYXV0aG9yLmlzUHJvZmlsZUltYWdlTmZ0LFxuICAgICAgICAgIH0sXG4gICAgICAgIH1cblxuICAgICAgICBzZXRUd2VldHMocHJldlN0YXRlID0+IFsuLi5wcmV2U3RhdGUsIG5ld0l0ZW1dKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VHdlZXRzKHByZXZTdGF0ZSA9PiBbLi4ucHJldlN0YXRlLCBpdGVtXSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgdXNlciBkZXRhaWxzIGZyb20gU2FuaXR5IERCLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlckFjY291bnQgV2FsbGV0IGFkZHJlc3Mgb2YgdGhlIGN1cnJlbnRseSBsb2dnZWQgaW4gdXNlclxuICAgKiBAcmV0dXJucyBudWxsXG4gICAqL1xuICBjb25zdCBnZXRDdXJyZW50VXNlckRldGFpbHMgPSBhc3luYyAodXNlckFjY291bnQgPSBjdXJyZW50QWNjb3VudCkgPT4ge1xuICAgIGlmIChhcHBTdGF0dXMgIT09ICdjb25uZWN0ZWQnKSByZXR1cm5cblxuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgKltfdHlwZSA9PSBcInVzZXJzXCIgJiYgX2lkID09IFwiJHt1c2VyQWNjb3VudH1cIl17XG4gICAgICAgIFwidHdlZXRzXCI6IHR3ZWV0c1tdLT57dGltZXN0YW1wLCB0d2VldH18b3JkZXIodGltZXN0YW1wIGRlc2MpLFxuICAgICAgICBuYW1lLFxuICAgICAgICBwcm9maWxlSW1hZ2UsXG4gICAgICAgIGlzUHJvZmlsZUltYWdlTmZ0LFxuICAgICAgICBjb3ZlckltYWdlLFxuICAgICAgICB3YWxsZXRBZGRyZXNzXG4gICAgICB9XG4gICAgYFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2xpZW50LmZldGNoKHF1ZXJ5KVxuXG4gICAgY29uc3QgcHJvZmlsZUltYWdlVXJpID0gYXdhaXQgZ2V0TmZ0UHJvZmlsZUltYWdlKFxuICAgICAgcmVzcG9uc2VbMF0ucHJvZmlsZUltYWdlLFxuICAgICAgcmVzcG9uc2VbMF0uaXNQcm9maWxlSW1hZ2VOZnQsXG4gICAgKVxuXG4gICAgc2V0Q3VycmVudFVzZXIoe1xuICAgICAgdHdlZXRzOiByZXNwb25zZVswXS50d2VldHMsXG4gICAgICBuYW1lOiByZXNwb25zZVswXS5uYW1lLFxuICAgICAgcHJvZmlsZUltYWdlOiBwcm9maWxlSW1hZ2VVcmksXG4gICAgICB3YWxsZXRBZGRyZXNzOiByZXNwb25zZVswXS53YWxsZXRBZGRyZXNzLFxuICAgICAgY292ZXJJbWFnZTogcmVzcG9uc2VbMF0uY292ZXJJbWFnZSxcbiAgICAgIGlzUHJvZmlsZUltYWdlTmZ0OiByZXNwb25zZVswXS5pc1Byb2ZpbGVJbWFnZU5mdCxcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8VHdpdHRlckNvbnRleHQuUHJvdmlkZXJcbiAgICAgIHZhbHVlPXt7XG4gICAgICAgIGFwcFN0YXR1cyxcbiAgICAgICAgY3VycmVudEFjY291bnQsXG4gICAgICAgIGNvbm5lY3RXYWxsZXQsXG4gICAgICAgIHR3ZWV0cyxcbiAgICAgICAgZmV0Y2hUd2VldHMsXG4gICAgICAgIHNldEFwcFN0YXR1cyxcbiAgICAgICAgZ2V0TmZ0UHJvZmlsZUltYWdlLFxuICAgICAgICBjdXJyZW50VXNlcixcbiAgICAgICAgZ2V0Q3VycmVudFVzZXJEZXRhaWxzLFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9Ud2l0dGVyQ29udGV4dC5Qcm92aWRlcj5cbiAgKVxufVxuXG4vLyBpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG4vLyBpbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcbi8vIGltcG9ydCB7IGNsaWVudCB9IGZyb20gXCIuLi9saWIvY2xpZW50XCI7XG5cbi8vIGV4cG9ydCBjb25zdCBUd2l0dGVyQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoKTtcblxuLy8gZXhwb3J0IGNvbnN0IFR3aXR0ZXJQcm92aWRlciA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbi8vICAgY29uc3QgW2FwcFN0YXR1cywgc2V0QXBwU3RhdHVzXSA9IHVzZVN0YXRlKFwiXCIpO1xuLy8gICBjb25zdCBbY3VycmVudEFjY291bnQsIHNldEN1cnJlbnRBY2NvdW50XSA9IHVzZVN0YXRlKFwiXCIpO1xuLy8gICAvLyAgIGNvbnN0IFtjdXJyZW50VXNlciwgc2V0Q3VycmVudFVzZXJdID0gdXNlU3RhdGUoe30pO1xuLy8gICBjb25zdCBbdHdlZXRzLCBzZXRUd2VldHNdID0gdXNlU3RhdGUoW10pO1xuXG4vLyAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuXG4vLyAgIHVzZUVmZmVjdCgoKSA9PiB7XG4vLyAgICAgY2hlY2tJZldhbGxldElzQ29ubmVjdGVkKCk7XG4vLyAgIH0sIFtdKTtcblxuLy8gICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4vLyAgICAgICBpZiAoIWN1cnJlbnRBY2NvdW50ICYmIGFwcFN0YXR1cyA9PSBcImNvbm5lY3RlZFwiKSByZXR1cm47XG4vLyAgICAgICBnZXRDdXJyZW50VXNlckRldGFpbHMoY3VycmVudEFjY291bnQpO1xuLy8gICAgICAgLy8gICBmZXRjaFR3ZWV0cygpO1xuLy8gICAgIH0sIFtjdXJyZW50QWNjb3VudCwgYXBwU3RhdHVzXSk7XG5cbi8vICAgLyoqXG4vLyAgICAqIENoZWNrcyBpZiB0aGVyZSBpcyBhbiBhY3RpdmUgd2FsbGV0IGNvbm5lY3Rpb25cbi8vICAgICovXG4vLyAgIGNvbnN0IGNoZWNrSWZXYWxsZXRJc0Nvbm5lY3RlZCA9IGFzeW5jICgpID0+IHtcbi8vICAgICBpZiAoIXdpbmRvdy5ldGhlcmV1bSkgcmV0dXJuIHNldEFwcFN0YXR1cyhcIm5vTWV0YU1hc2tcIik7XG4vLyAgICAgdHJ5IHtcbi8vICAgICAgIGNvbnN0IGFkZHJlc3NBcnJheSA9IGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHtcbi8vICAgICAgICAgbWV0aG9kOiBcImV0aF9hY2NvdW50c1wiLFxuLy8gICAgICAgfSk7XG4vLyAgICAgICBpZiAoYWRkcmVzc0FycmF5Lmxlbmd0aCA+IDApIHtcbi8vICAgICAgICAgc2V0QXBwU3RhdHVzKFwiY29ubmVjdGVkXCIpO1xuLy8gICAgICAgICBzZXRDdXJyZW50QWNjb3VudChhZGRyZXNzQXJyYXlbMF0pO1xuLy8gICAgICAgICBjcmVhdGVVc2VyQWNjb3VudChhZGRyZXNzQXJyYXlbMF0pO1xuLy8gICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgcm91dGVyLnB1c2goXCIvXCIpO1xuLy8gICAgICAgICBzZXRBcHBTdGF0dXMoXCJub3RDb25uZWN0ZWRcIik7XG4vLyAgICAgICB9XG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XG4vLyAgICAgICByb3V0ZXIucHVzaChcIi9cIik7XG4vLyAgICAgICAvLyBzZXRBcHBTdGF0dXMoXCJlcnJvclwiKTtcbi8vICAgICAgIHNldEFwcFN0YXR1cyhcImNvbm5lY3RlZFwiKTtcbi8vICAgICB9XG4vLyAgIH07XG5cbi8vICAgLyoqXG4vLyAgICAqIEluaXRpYXRlcyBNZXRhTWFzayB3YWxsZXQgY29ubmVjdGlvblxuLy8gICAgKi9cbi8vICAgY29uc3QgY29ubmVjdFRvV2FsbGV0ID0gYXN5bmMgKCkgPT4ge1xuLy8gICAgIGlmICghd2luZG93LmV0aGVyZXVtKSByZXR1cm4gc2V0QXBwU3RhdHVzKFwibm9NZXRhTWFza1wiKTtcbi8vICAgICB0cnkge1xuLy8gICAgICAgc2V0QXBwU3RhdHVzKFwibG9hZGluZ1wiKTtcblxuLy8gICAgICAgY29uc3QgYWRkcmVzc0FycmF5ID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3Qoe1xuLy8gICAgICAgICBtZXRob2Q6IFwiZXRoX3JlcXVlc3RBY2NvdW50c1wiLFxuLy8gICAgICAgfSk7XG5cbi8vICAgICAgIGlmIChhZGRyZXNzQXJyYXkubGVuZ3RoID4gMCkge1xuLy8gICAgICAgICBzZXRDdXJyZW50QWNjb3VudChhZGRyZXNzQXJyYXlbMF0pO1xuLy8gICAgICAgICBjcmVhdGVVc2VyQWNjb3VudChhZGRyZXNzQXJyYXlbMF0pO1xuLy8gICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgcm91dGVyLnB1c2goXCIvXCIpO1xuLy8gICAgICAgICBzZXRBcHBTdGF0dXMoXCJub3RDb25uZWN0ZWRcIik7XG4vLyAgICAgICB9XG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XG4vLyAgICAgICAvLyBzZXRBcHBTdGF0dXMoXCJlcnJvclwiKTtcbi8vICAgICAgIHNldEFwcFN0YXR1cyhcImNvbm5lY3RlZFwiKTtcbi8vICAgICB9XG4vLyAgIH07XG5cbi8vICAgLyoqXG4vLyAgICAqIENyZWF0ZXMgYW4gYWNjb3VudCBpbiBTYW5pdHkgREIgaWYgdGhlIHVzZXIgZG9lcyBub3QgYWxyZWFkeSBoYXZlIG9uZVxuLy8gICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlckFkZHJlc3MgV2FsbGV0IGFkZHJlc3Mgb2YgdGhlIGN1cnJlbnRseSBsb2dnZWQgaW4gdXNlclxuLy8gICAgKi9cbi8vICAgY29uc3QgY3JlYXRlVXNlckFjY291bnQgPSBhc3luYyAodXNlckFkZHJlc3MgPSBjdXJyZW50QWNjb3VudCkgPT4ge1xuLy8gICAgIGlmICghd2luZG93LmV0aGVyZXVtKSByZXR1cm4gc2V0QXBwU3RhdHVzKFwibm9NZXRhTWFza1wiKTtcbi8vICAgICB0cnkge1xuLy8gICAgICAgY29uc3QgdXNlckRvYyA9IHtcbi8vICAgICAgICAgX3R5cGU6IFwidXNlcnNcIixcbi8vICAgICAgICAgX2lkOiB1c2VyQWRkcmVzcyxcbi8vICAgICAgICAgbmFtZTogXCJVbm5hbWVkXCIsXG4vLyAgICAgICAgIGlzUHJvZmlsZUltYWdlTmZ0OiBmYWxzZSxcbi8vICAgICAgICAgcHJvZmlsZUltYWdlOlxuLy8gICAgICAgICAgIFwiaHR0cHM6Ly9hYm91dC50d2l0dGVyLmNvbS9jb250ZW50L2RhbS9hYm91dC10d2l0dGVyL2VuL2JyYW5kLXRvb2xraXQvYnJhbmQtZG93bmxvYWQtaW1nLTEuanBnLnR3aW1nLjE5MjAuanBnXCIsXG4vLyAgICAgICAgIHdhbGxldEFkZHJlc3M6IHVzZXJBZGRyZXNzLFxuLy8gICAgICAgfTtcblxuLy8gICAgICAgYXdhaXQgY2xpZW50LmNyZWF0ZUlmTm90RXhpc3RzKHVzZXJEb2MpO1xuXG4vLyAgICAgICBzZXRBcHBTdGF0dXMoXCJjb25uZWN0ZWRcIik7XG4vLyAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbi8vICAgICAgIHJvdXRlci5wdXNoKFwiL1wiKTtcbi8vICAgICAgIHNldEFwcFN0YXR1cyhcImNvbm5lY3RlZFwiKTtcbi8vICAgICAgIC8vIHNldEFwcFN0YXR1cyhcImVycm9yXCIpO1xuLy8gICAgIH1cbi8vICAgfTtcblxuLy8gICAvLyAgIC8qKlxuLy8gICAvLyAgICAqIEdlbmVyYXRlcyBORlQgcHJvZmlsZSBwaWN0dXJlIFVSTCBvciByZXR1cm5zIHRoZSBpbWFnZSBVUkwgaWYgaXQncyBub3QgYW4gTkZUXG4vLyAgIC8vICAgICogQHBhcmFtIHtTdHJpbmd9IGltYWdlVXJpIElmIHRoZSB1c2VyIGhhcyBtaW50ZWQgYSBwcm9maWxlIHBpY3R1cmUsIGFuIElQRlMgaGFzaDsgaWYgbm90IHRoZW4gdGhlIFVSTCBvZiB0aGVpciBwcm9maWxlIHBpY3R1cmVcbi8vICAgLy8gICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzTmZ0IEluZGljYXRlcyB3aGV0aGVyIHRoZSB1c2VyIGhhcyBtaW50ZWQgYSBwcm9maWxlIHBpY3R1cmVcbi8vICAgLy8gICAgKiBAcmV0dXJucyBBIGZ1bGwgVVJMIHRvIHRoZSBwcm9maWxlIHBpY3R1cmVcbi8vICAgLy8gICAgKi9cbi8vICAgLy8gICBjb25zdCBnZXROZnRQcm9maWxlSW1hZ2UgPSBhc3luYyAoaW1hZ2VVcmksIGlzTmZ0KSA9PiB7XG4vLyAgIC8vICAgICBpZiAoaXNOZnQpIHtcbi8vICAgLy8gICAgICAgcmV0dXJuIGBodHRwczovL2dhdGV3YXkucGluYXRhLmNsb3VkL2lwZnMvJHtpbWFnZVVyaX1gO1xuLy8gICAvLyAgICAgfSBlbHNlIGlmICghaXNOZnQpIHtcbi8vICAgLy8gICAgICAgcmV0dXJuIGltYWdlVXJpO1xuLy8gICAvLyAgICAgfVxuLy8gICAvLyAgIH07XG5cbi8vICAgLyoqXG4vLyAgICAqIEdldHMgYWxsIHRoZSB0d2VldHMgc3RvcmVkIGluIFNhbml0eSBEQi5cbi8vICAgICovXG4vLyAgIGNvbnN0IGZldGNoVHdlZXRzID0gYXN5bmMgKCkgPT4ge1xuLy8gICAgIGNvbnN0IHF1ZXJ5ID0gYFxuLy8gICAgICAgICAqW190eXBlID09IFwidHdlZXRzXCJde1xuLy8gICAgICAgICAgIFwiYXV0aG9yXCI6IGF1dGhvci0+e25hbWUsIHdhbGxldEFkZHJlc3MsIHByb2ZpbGVJbWFnZSwgaXNQcm9maWxlSW1hZ2VOZnR9LFxuLy8gICAgICAgICAgIHR3ZWV0LFxuLy8gICAgICAgICAgIHRpbWVzdGFtcFxuLy8gICAgICAgICB9fG9yZGVyKHRpbWVzdGFtcCBkZXNjKVxuLy8gICAgICAgYDtcblxuLy8gICAgIHNldFR3ZWV0cyhhd2FpdCBjbGllbnQuZmV0Y2gocXVlcnkpKTtcblxuLy8gICAgIGNvbnN0IHNhbml0eVJlc3BvbnNlID0gYXdhaXQgY2xpZW50LmZldGNoKHF1ZXJ5KTtcblxuLy8gICAgIHNldFR3ZWV0cyhbXSk7XG5cbi8vICAgICAvKipcbi8vICAgICAgKiBBc3luYyBhd2FpdCBub3QgYXZhaWxhYmxlIHdpdGggZm9yLi5vZiBsb29wcy5cbi8vICAgICAgKi9cbi8vICAgICBzYW5pdHlSZXNwb25zZS5mb3JFYWNoKGFzeW5jIChpdGVtKSA9PiB7XG4vLyAgICAgICBjb25zdCBwcm9maWxlSW1hZ2VVcmwgPSBhd2FpdCBnZXROZnRQcm9maWxlSW1hZ2UoXG4vLyAgICAgICAgIGl0ZW0uYXV0aG9yLnByb2ZpbGVJbWFnZSxcbi8vICAgICAgICAgaXRlbS5hdXRob3IuaXNQcm9maWxlSW1hZ2VOZnRcbi8vICAgICAgICk7XG5cbi8vICAgICAgIGlmIChpdGVtLmF1dGhvci5pc1Byb2ZpbGVJbWFnZU5mdCkge1xuLy8gICAgICAgICBjb25zdCBuZXdJdGVtID0ge1xuLy8gICAgICAgICAgIHR3ZWV0OiBpdGVtLnR3ZWV0LFxuLy8gICAgICAgICAgIHRpbWVzdGFtcDogaXRlbS50aW1lc3RhbXAsXG4vLyAgICAgICAgICAgYXV0aG9yOiB7XG4vLyAgICAgICAgICAgICBuYW1lOiBpdGVtLmF1dGhvci5uYW1lLFxuLy8gICAgICAgICAgICAgd2FsbGV0QWRkcmVzczogaXRlbS5hdXRob3Iud2FsbGV0QWRkcmVzcyxcbi8vICAgICAgICAgICAgIHByb2ZpbGVJbWFnZTogcHJvZmlsZUltYWdlVXJsLFxuLy8gICAgICAgICAgICAgaXNQcm9maWxlSW1hZ2VOZnQ6IGl0ZW0uYXV0aG9yLmlzUHJvZmlsZUltYWdlTmZ0LFxuLy8gICAgICAgICAgIH0sXG4vLyAgICAgICAgIH07XG5cbi8vICAgICAgICAgc2V0VHdlZXRzKChwcmV2U3RhdGUpID0+IFsuLi5wcmV2U3RhdGUsIG5ld0l0ZW1dKTtcbi8vICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgIHNldFR3ZWV0cygocHJldlN0YXRlKSA9PiBbLi4ucHJldlN0YXRlLCBpdGVtXSk7XG4vLyAgICAgICB9XG4vLyAgICAgfSk7XG4vLyAgIH07XG5cbi8vICAgLyoqXG4vLyAgICAqIEdldHMgdGhlIGN1cnJlbnQgdXNlciBkZXRhaWxzIGZyb20gU2FuaXR5IERCLlxuLy8gICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlckFjY291bnQgV2FsbGV0IGFkZHJlc3Mgb2YgdGhlIGN1cnJlbnRseSBsb2dnZWQgaW4gdXNlclxuLy8gICAgKiBAcmV0dXJucyBudWxsXG4vLyAgICAqL1xuLy8gICBjb25zdCBnZXRDdXJyZW50VXNlckRldGFpbHMgPSBhc3luYyAodXNlckFjY291bnQgPSBjdXJyZW50QWNjb3VudCkgPT4ge1xuLy8gICAgIGlmIChhcHBTdGF0dXMgIT09IFwiY29ubmVjdGVkXCIpIHJldHVybjtcblxuLy8gICAgIGNvbnN0IHF1ZXJ5ID0gYFxuLy8gICAgICAgICAqW190eXBlID09IFwidXNlcnNcIiAmJiBfaWQgPT0gXCIke3VzZXJBY2NvdW50fVwiXXtcbi8vICAgICAgICAgICBcInR3ZWV0c1wiOiB0d2VldHNbXS0+e3RpbWVzdGFtcCwgdHdlZXR9fG9yZGVyKHRpbWVzdGFtcCBkZXNjKSxcbi8vICAgICAgICAgICBuYW1lLFxuLy8gICAgICAgICAgIHByb2ZpbGVJbWFnZSxcbi8vICAgICAgICAgICBpc1Byb2ZpbGVJbWFnZU5mdCxcbi8vICAgICAgICAgICBjb3ZlckltYWdlLFxuLy8gICAgICAgICAgIHdhbGxldEFkZHJlc3Ncbi8vICAgICAgICAgfVxuLy8gICAgICAgYDtcbi8vICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNsaWVudC5mZXRjaChxdWVyeSk7XG5cbi8vICAgICBjb25zdCBwcm9maWxlSW1hZ2VVcmkgPSBhd2FpdCBnZXROZnRQcm9maWxlSW1hZ2UoXG4vLyAgICAgICByZXNwb25zZVswXS5wcm9maWxlSW1hZ2UsXG4vLyAgICAgICByZXNwb25zZVswXS5pc1Byb2ZpbGVJbWFnZU5mdFxuLy8gICAgICk7XG5cbi8vICAgICBzZXRDdXJyZW50VXNlcih7XG4vLyAgICAgICB0d2VldHM6IHJlc3BvbnNlWzBdLnR3ZWV0cyxcbi8vICAgICAgIG5hbWU6IHJlc3BvbnNlWzBdLm5hbWUsXG4vLyAgICAgICBwcm9maWxlSW1hZ2U6IHByb2ZpbGVJbWFnZVVyaSxcbi8vICAgICAgIHdhbGxldEFkZHJlc3M6IHJlc3BvbnNlWzBdLndhbGxldEFkZHJlc3MsXG4vLyAgICAgICBjb3ZlckltYWdlOiByZXNwb25zZVswXS5jb3ZlckltYWdlLFxuLy8gICAgICAgaXNQcm9maWxlSW1hZ2VOZnQ6IHJlc3BvbnNlWzBdLmlzUHJvZmlsZUltYWdlTmZ0LFxuLy8gICAgIH0pO1xuLy8gICB9O1xuXG4vLyAgIHJldHVybiAoXG4vLyAgICAgPFR3aXR0ZXJDb250ZXh0LlByb3ZpZGVyXG4vLyAgICAgICB2YWx1ZT17e1xuLy8gICAgICAgICBhcHBTdGF0dXMsXG4vLyAgICAgICAgIGN1cnJlbnRBY2NvdW50LFxuLy8gICAgICAgICBjb25uZWN0VG9XYWxsZXQsXG4vLyAgICAgICAgIGZldGNoVHdlZXRzLFxuLy8gICAgICAgICB0d2VldHMsXG4vLyAgICAgICAgIGN1cnJlbnRVc2VyLFxuLy8gICAgICAgICBzZXRBcHBTdGF0dXMsXG5cbi8vICAgICAgICAgZ2V0Q3VycmVudFVzZXJEZXRhaWxzLFxuLy8gICAgICAgfX1cbi8vICAgICA+XG4vLyAgICAgICB7Y2hpbGRyZW59XG4vLyAgICAgPC9Ud2l0dGVyQ29udGV4dC5Qcm92aWRlcj5cbi8vICAgKTtcbi8vIH07XG5cblxuLy9lbnYgbG9jYWxcblxuLy8gQVBJIEtleTogMDg4MjEzNzNhYTM3ZDBhN2U3MGJcbi8vICBBUEkgU2VjcmV0OiBlZDU3MzIyNzkzMTMyNDk3Y2VjY2U3OWUyNGIyYWNkMmI3NzM2MDE5OWZjZDg0YTY3YzUzZWI3NWVmZGEyMzVkXG4vLyAgSldUOiBleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKMWMyVnlTVzVtYjNKdFlYUnBiMjRpT25zaWFXUWlPaUkzTURGak1UUmlOaTB5TVdWaExUUmpPVEV0T0dNek55MHdNVEZoTmprNE9EbGxPVFFpTENKbGJXRnBiQ0k2SW1SbGRtVnNiM0JsY25WcVFHZHRZV2xzTG1OdmJTSXNJbVZ0WVdsc1gzWmxjbWxtYVdWa0lqcDBjblZsTENKd2FXNWZjRzlzYVdONUlqcDdJbkpsWjJsdmJuTWlPbHQ3SW1sa0lqb2lSbEpCTVNJc0ltUmxjMmx5WldSU1pYQnNhV05oZEdsdmJrTnZkVzUwSWpveGZTeDdJbWxrSWpvaVRsbERNU0lzSW1SbGMybHlaV1JTWlhCc2FXTmhkR2x2YmtOdmRXNTBJam94ZlYwc0luWmxjbk5wYjI0aU9qRjlMQ0p0Wm1GZlpXNWhZbXhsWkNJNlptRnNjMlVzSW5OMFlYUjFjeUk2SWtGRFZFbFdSU0o5TENKaGRYUm9aVzUwYVdOaGRHbHZibFI1Y0dVaU9pSnpZMjl3WldSTFpYa2lMQ0p6WTI5d1pXUkxaWGxMWlhraU9pSXdPRGd5TVRNM00yRmhNemRrTUdFM1pUY3dZaUlzSW5OamIzQmxaRXRsZVZObFkzSmxkQ0k2SW1Wa05UY3pNakkzT1RNeE16STBPVGRqWldOalpUYzVaVEkwWWpKaFkyUXlZamMzTXpZd01UazVabU5rT0RSaE5qZGpOVE5sWWpjMVpXWmtZVEl6TldRaUxDSnBZWFFpT2pFMk9ESTNPVE0yTVRkOS52eTdIa0NTM3NBQUtXb3EyeU43UHNSMV9BYjhCdmt0UExTZkc4UDBrS2xzXG5cbiJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSb3V0ZXIiLCJjbGllbnQiLCJUd2l0dGVyQ29udGV4dCIsIlR3aXR0ZXJQcm92aWRlciIsImNoaWxkcmVuIiwiYXBwU3RhdHVzIiwic2V0QXBwU3RhdHVzIiwiY3VycmVudEFjY291bnQiLCJzZXRDdXJyZW50QWNjb3VudCIsImN1cnJlbnRVc2VyIiwic2V0Q3VycmVudFVzZXIiLCJ0d2VldHMiLCJzZXRUd2VldHMiLCJyb3V0ZXIiLCJjaGVja0lmV2FsbGV0SXNDb25uZWN0ZWQiLCJnZXRDdXJyZW50VXNlckRldGFpbHMiLCJmZXRjaFR3ZWV0cyIsIndpbmRvdyIsImV0aGVyZXVtIiwiYWRkcmVzc0FycmF5IiwicmVxdWVzdCIsIm1ldGhvZCIsImxlbmd0aCIsImNyZWF0ZVVzZXJBY2NvdW50IiwicHVzaCIsImVyciIsImNvbm5lY3RXYWxsZXQiLCJ1c2VyQWRkcmVzcyIsInVzZXJEb2MiLCJfdHlwZSIsIl9pZCIsIm5hbWUiLCJpc1Byb2ZpbGVJbWFnZU5mdCIsInByb2ZpbGVJbWFnZSIsIndhbGxldEFkZHJlc3MiLCJjcmVhdGVJZk5vdEV4aXN0cyIsImVycm9yIiwiZ2V0TmZ0UHJvZmlsZUltYWdlIiwiaW1hZ2VVcmkiLCJpc05mdCIsInF1ZXJ5Iiwic2FuaXR5UmVzcG9uc2UiLCJmZXRjaCIsImZvckVhY2giLCJpdGVtIiwicHJvZmlsZUltYWdlVXJsIiwiYXV0aG9yIiwibmV3SXRlbSIsInR3ZWV0IiwidGltZXN0YW1wIiwicHJldlN0YXRlIiwidXNlckFjY291bnQiLCJyZXNwb25zZSIsInByb2ZpbGVJbWFnZVVyaSIsImNvdmVySW1hZ2UiLCJQcm92aWRlciIsInZhbHVlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./context/TwitterContext.js\n");

/***/ }),

/***/ "./lib/client.js":
/*!***********************!*\
  !*** ./lib/client.js ***!
  \***********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"client\": () => (/* binding */ client)\n/* harmony export */ });\n/* harmony import */ var _sanity_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sanity/client */ \"@sanity/client\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_sanity_client__WEBPACK_IMPORTED_MODULE_0__]);\n_sanity_client__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst client = (0,_sanity_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    // projectId: process.env.NEXT_PUBLIC_SANITY_PROJECT_ID,\n    projectId: \"chatobam\",\n    dataset: \"production\",\n    apiVersion: \"v1\",\n    token: \"skC4wsahF0q3VUCDBai42IgermODBB0rMqZmtrvpL8M8lCPt9gmnmTb931ZhOcMeHgCfbcaIf2oe5N7DUsa4ZHwmOKmQYWzYRspgVE6LpZZtz33LbqLTyoYYLOwb6GHEzwfb5rh7fmPLU1u6HMwQ0LHCaxI34cyWsIHv3tCq9V1YkSkxFx22\",\n    useCdn: false\n}); //NEXT_PUBLIC_SANITY_PROJECT_ID=chatobam// projectId: \"chatobam\",\n //NEXT_PUBLIC_SANITY_PROJECT_ID=chatobam\n // skC4wsahF0q3VUCDBai42IgermODBB0rMqZmtrvpL8M8lCPt9gmnmTb931ZhOcMeHgCfbcaIf2oe5N7DUsa4ZHwmOKmQYWzYRspgVE6LpZZtz33LbqLTyoYYLOwb6GHEzwfb5rh7fmPLU1u6HMwQ0LHCaxI34cyWsIHv3tCq9V1YkSkxFx22\n //c: process.env.NEXT_PUBLIC_SANITY_TOKEN,\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvY2xpZW50LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTBDO0FBRW5DLE1BQU1DLFNBQVNELDBEQUFZQSxDQUFDO0lBQ2pDLHdEQUF3RDtJQUN4REUsV0FBVztJQUNYQyxTQUFTO0lBQ1RDLFlBQVk7SUFDWkMsT0FBTztJQUNQQyxRQUFRLEtBQUs7QUFDZixHQUFHLENBRUgsaUVBQWlFO0NBQ2pFLHdDQUF3QztDQUV4Qyx1TEFBdUw7Q0FDdkwsMENBQTBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2NsaWVudC5qcz9lNjlmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzYW5pdHlDbGllbnQgZnJvbSBcIkBzYW5pdHkvY2xpZW50XCI7XG5cbmV4cG9ydCBjb25zdCBjbGllbnQgPSBzYW5pdHlDbGllbnQoe1xuICAvLyBwcm9qZWN0SWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NBTklUWV9QUk9KRUNUX0lELFxuICBwcm9qZWN0SWQ6IFwiY2hhdG9iYW1cIixcbiAgZGF0YXNldDogXCJwcm9kdWN0aW9uXCIsXG4gIGFwaVZlcnNpb246IFwidjFcIixcbiAgdG9rZW46IFwic2tDNHdzYWhGMHEzVlVDREJhaTQySWdlcm1PREJCMHJNcVptdHJ2cEw4TThsQ1B0OWdtbm1UYjkzMVpoT2NNZUhnQ2ZiY2FJZjJvZTVON0RVc2E0Wkh3bU9LbVFZV3pZUnNwZ1ZFNkxwWlp0ejMzTGJxTFR5b1lZTE93YjZHSEV6d2ZiNXJoN2ZtUExVMXU2SE13UTBMSENheEkzNGN5V3NJSHYzdENxOVYxWWtTa3hGeDIyXCIsXG4gIHVzZUNkbjogZmFsc2UsXG59KTtcblxuLy9ORVhUX1BVQkxJQ19TQU5JVFlfUFJPSkVDVF9JRD1jaGF0b2JhbS8vIHByb2plY3RJZDogXCJjaGF0b2JhbVwiLFxuLy9ORVhUX1BVQkxJQ19TQU5JVFlfUFJPSkVDVF9JRD1jaGF0b2JhbVxuXG4vLyBza0M0d3NhaEYwcTNWVUNEQmFpNDJJZ2VybU9EQkIwck1xWm10cnZwTDhNOGxDUHQ5Z21ubVRiOTMxWmhPY01lSGdDZmJjYUlmMm9lNU43RFVzYTRaSHdtT0ttUVlXellSc3BnVkU2THBaWnR6MzNMYnFMVHlvWVlMT3diNkdIRXp3ZmI1cmg3Zm1QTFUxdTZITXdRMExIQ2F4STM0Y3lXc0lIdjN0Q3E5VjFZa1NreEZ4MjJcbi8vYzogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU0FOSVRZX1RPS0VOLCJdLCJuYW1lcyI6WyJzYW5pdHlDbGllbnQiLCJjbGllbnQiLCJwcm9qZWN0SWQiLCJkYXRhc2V0IiwiYXBpVmVyc2lvbiIsInRva2VuIiwidXNlQ2RuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/client.js\n");

/***/ }),

/***/ "./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _context_TwitterContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../context/TwitterContext */ \"./context/TwitterContext.js\");\n/* harmony import */ var _lib_hexStyles_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/hexStyles.css */ \"./lib/hexStyles.css\");\n/* harmony import */ var _lib_hexStyles_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lib_hexStyles_css__WEBPACK_IMPORTED_MODULE_3__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_context_TwitterContext__WEBPACK_IMPORTED_MODULE_2__]);\n_context_TwitterContext__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n//import type { AppProps } from \"next/app\";\n\n\nfunction MyApp({ Component , pageProps  }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_context_TwitterContext__WEBPACK_IMPORTED_MODULE_2__.TwitterProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n            ...pageProps\n        }, void 0, false, {\n            fileName: \"/Users/upendra/Desktop/developer/blockchain/cleverProgrammer/cleverProgrammer/twitterWeb3/twitterWEB3final/twitter-clone-blockchain/client/pages/_app.js\",\n            lineNumber: 9,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/upendra/Desktop/developer/blockchain/cleverProgrammer/cleverProgrammer/twitterWeb3/twitterWEB3final/twitter-clone-blockchain/client/pages/_app.js\",\n        lineNumber: 8,\n        columnNumber: 5\n    }, this);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUErQjtBQUMvQiwyQ0FBMkM7QUFDaUI7QUFDOUI7QUFFOUIsU0FBU0MsTUFBTSxFQUFFQyxVQUFTLEVBQUVDLFVBQVMsRUFBRSxFQUFFO0lBQ3ZDLHFCQUNFLDhEQUFDSCxvRUFBZUE7a0JBQ2QsNEVBQUNFO1lBQVcsR0FBR0MsU0FBUzs7Ozs7Ozs7Ozs7QUFHOUI7QUFFQSxpRUFBZUYsS0FBS0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3BhZ2VzL19hcHAuanM/ZTBhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCIuLi9zdHlsZXMvZ2xvYmFscy5jc3NcIjtcbi8vaW1wb3J0IHR5cGUgeyBBcHBQcm9wcyB9IGZyb20gXCJuZXh0L2FwcFwiO1xuaW1wb3J0IHsgVHdpdHRlclByb3ZpZGVyIH0gZnJvbSBcIi4uL2NvbnRleHQvVHdpdHRlckNvbnRleHRcIjtcbmltcG9ydCBcIi4uL2xpYi9oZXhTdHlsZXMuY3NzXCI7XG5cbmZ1bmN0aW9uIE15QXBwKHsgQ29tcG9uZW50LCBwYWdlUHJvcHMgfSkge1xuICByZXR1cm4gKFxuICAgIDxUd2l0dGVyUHJvdmlkZXI+XG4gICAgICA8Q29tcG9uZW50IHsuLi5wYWdlUHJvcHN9IC8+XG4gICAgPC9Ud2l0dGVyUHJvdmlkZXI+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE15QXBwO1xuIl0sIm5hbWVzIjpbIlR3aXR0ZXJQcm92aWRlciIsIk15QXBwIiwiQ29tcG9uZW50IiwicGFnZVByb3BzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/_app.js\n");

/***/ }),

/***/ "./lib/hexStyles.css":
/*!***************************!*\
  !*** ./lib/hexStyles.css ***!
  \***************************/
/***/ (() => {



/***/ }),

/***/ "./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "next/router":
/*!******************************!*\
  !*** external "next/router" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/router");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "@sanity/client":
/*!*********************************!*\
  !*** external "@sanity/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = import("@sanity/client");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./pages/_app.js"));
module.exports = __webpack_exports__;

})();